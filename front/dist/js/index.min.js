function Banner(){this.bannerWitdh=798,this.bannerGroup=$("#banner-group"),this.index=1,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.bannerUL=$("#banner-ul"),this.liList=this.bannerUL.children("li"),this.bannerCount=this.liList.length,this.pageControl=$(".page-control")}Banner.prototype.initBanner=function(){var n=this,e=n.liList.eq(0).clone(),t=n.liList.eq(n.bannerCount-1).clone();n.bannerUL.append(e),n.bannerUL.prepend(t),n.bannerUL.css({width:n.bannerWitdh*(n.bannerCount+2),left:-n.bannerWitdh})},Banner.prototype.initPageControl=function(){for(var n=this,e=0;e<n.bannerCount;e++){var t=$("<li></li>");n.pageControl.append(t),0===e&&t.addClass("active")}n.pageControl.css({width:12*n.bannerCount+16+16*(n.bannerCount-1)})},Banner.prototype.animate=function(){var n=this;n.bannerUL.stop().animate({left:-798*n.index},500);var e=n.index;e=0===e?n.bannerCount-1:e===n.bannerCount+1?0:n.index-1,n.pageControl.children("li").eq(e).addClass("active").siblings().removeClass("active")},Banner.prototype.toggleArrow=function(n){var e=this;n?(e.leftArrow.show(),e.rightArrow.show()):(e.leftArrow.hide(),e.rightArrow.hide())},Banner.prototype.loop=function(){var n=this;this.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUL.css({left:-n.bannerWitdh}),n.index=2):n.index++,n.animate()},2e3)},Banner.prototype.listenArrowClick=function(){var n=this;n.leftArrow.click(function(){0===n.index?(n.bannerUL.css({left:-n.bannerCount*n.bannerWitdh}),n.index=n.bannerCount-1):n.index--,n.animate()}),n.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUL.css({left:-n.bannerWitdh}),n.index=2):n.index++,n.animate()})},Banner.prototype.listenBannerHover=function(){var n=this;this.bannerGroup.hover(function(){console.log("鼠标移动,暂停播放..."),clearInterval(n.timer),n.toggleArrow(!0)},function(){console.log("鼠标移走,开始播放..."),n.loop(),n.toggleArrow(!1)})},Banner.prototype.listenPageControl=function(){var t=this;t.pageControl.children("li").each(function(n,e){$(e).click(function(){t.index=n,t.animate()})})},Banner.prototype.run=function(){console.log("runing..........."),this.initBanner(),this.initPageControl(),this.loop(),this.listenArrowClick(),this.listenBannerHover(),this.listenPageControl()},$(function(){(new Banner).run()}),Index.prototype.listenLoadMoreEvent=function(){var i=this;i.page;i.loadBtn.click(function(){xfzajax.get({url:"/news/news_list/",data:{p:i.page,category_id:i.category_id},success:function(n){if(200===n.code){var e=n.data;if(0<e.length){var t=template("news-item",{newses:e});$(".list-inner-group").append(t),i.page+=1}else window.messageBox.showError("已经没有更多新闻了！"),i.loadBtn.hide()}}})})},Index.prototype.listenCategorySwitchEvent=function(){var a=this;$(".list-tab").children().click(function(){var r=$(this),o=r.attr("data-category");xfzajax.get({url:"/news/news_list/",data:{category_id:o,p:1},success:function(n){if(200===n.code){var e=n.data,t=template("news-item",{newses:e}),i=$(".list-inner-group");i.empty(),i.append(t),a.page=2,a.category_id=o,r.addClass("active").siblings().removeClass("active"),a.loadBtn.show()}}})})},Index.prototype.run=function(){this.listenLoadMoreEvent(),this.listenCategorySwitchEvent()},$(function(){(new Index).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIkJhbm5lciIsInRoaXMiLCJiYW5uZXJXaXRkaCIsImJhbm5lckdyb3VwIiwiJCIsImluZGV4IiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsImJhbm5lclVMIiwibGlMaXN0IiwiY2hpbGRyZW4iLCJiYW5uZXJDb3VudCIsImxlbmd0aCIsInBhZ2VDb250cm9sIiwicHJvdG90eXBlIiwiaW5pdEJhbm5lciIsInNlbGYiLCJmaXJzdEJhbm5lciIsImVxIiwiY2xvbmUiLCJsYXN0QmFubmVyIiwiYXBwZW5kIiwicHJlcGVuZCIsImNzcyIsIndpZHRoIiwibGVmdCIsImluaXRQYWdlQ29udHJvbCIsImkiLCJjaXJjbGUiLCJhZGRDbGFzcyIsImFuaW1hdGUiLCJzdG9wIiwic2libGluZ3MiLCJyZW1vdmVDbGFzcyIsInRvZ2dsZUFycm93IiwiaXNTaG93Iiwic2hvdyIsImhpZGUiLCJsb29wIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsImxpc3RlbkFycm93Q2xpY2siLCJjbGljayIsImxpc3RlbkJhbm5lckhvdmVyIiwiaG92ZXIiLCJjb25zb2xlIiwibG9nIiwiY2xlYXJJbnRlcnZhbCIsImxpc3RlblBhZ2VDb250cm9sIiwiZWFjaCIsIm9iaiIsInJ1biIsIkluZGV4IiwibGlzdGVuTG9hZE1vcmVFdmVudCIsInBhZ2UiLCJsb2FkQnRuIiwieGZ6YWpheCIsImdldCIsInVybCIsImRhdGEiLCJwIiwiY2F0ZWdvcnlfaWQiLCJzdWNjZXNzIiwicmVzdWx0IiwibmV3c2VzIiwidHBsIiwidGVtcGxhdGUiLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd0Vycm9yIiwibGlzdGVuQ2F0ZWdvcnlTd2l0Y2hFdmVudCIsImxpIiwiYXR0ciIsIm5ld3NMaXN0R3JvdXAiLCJlbXB0eSJdLCJtYXBwaW5ncyI6IkFBY0EsU0FBU0EsU0FDTEMsS0FBS0MsWUFBYyxJQUNuQkQsS0FBS0UsWUFBY0MsRUFBRSxpQkFDckJILEtBQUtJLE1B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U0FBVUMsR0FDakIsR0FBc0IsTUFBbkJBLEVBQWEsS0FBVSxDQUN0QixJQUFJQyxFQUFTRCxFQUFhLEtBQ3RCRSxFQUFNQyxTQUFTLFlBQVksQ0FBQ0YsT0FBU0EsSUFFckNTLEVBQWdCckUsRUFBRSxxQkFDdEJxRSxFQUFjQyxRQUNkRCxFQUFjcEQsT0FBTzRDLEdBQ3JCakQsRUFBS3NDLEtBQU8sRUFDWnRDLEVBQUs2QyxZQUFjQSxFQUNuQlUsRUFBRzFDLFNBQVMsVUFBVUcsV0FBV0MsWUFBWSxVQUM3Q2pCLEVBQUt1QyxRQUFRbkIsY0FPakNnQixNQUFNdEMsVUFBVXFDLElBQU0sV0FDUGxELEtBQ05vRCxzQkFETXBELEtBRU5xRSw2QkFHVGxFLEVBQUUsWUFDYSxJQUFJZ0QsT0FDVkQiLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZnVuY3Rpb24gQmFubmVyKCkge1xuLy8gICAgIC8v44CA55u45b2T5LqOcHl0aG9u5Lit55qEX19pbml0X1/mlrnms5Vcbi8vICAgICBjb25zb2xlLmxvZygnYmFubmVyJyk7XG4vLyAgICAgdGhpcy5wZXJzaW9uID0gJ2hhb2dlJztcbi8vIH1cbi8vXG4vLyAvL+OAgOWOn+Wei+mTvuOAgO+8jeOAgOa3u+WKoOaWueazlVxuLy8gQmFubmVyLnByb3RvdHlwZS5ncmVldCA9IGZ1bmN0aW9uICh3b3JkKSB7XG4vLyAgICAgY29uc29sZS5sb2coJ2hlbGxvJyx3b3JkKTtcbi8vIH07XG4vL1xuLy8gdmFyIGJhbm5lciA9IG5ldyBCYW5uZXIoKTtcbi8vIGNvbnNvbGUubG9nKGJhbm5lci5wZXJzaW9uKTtcblxuZnVuY3Rpb24gQmFubmVyKCkge1xuICAgIHRoaXMuYmFubmVyV2l0ZGggPSA3OTg7XG4gICAgdGhpcy5iYW5uZXJHcm91cCA9ICQoJyNiYW5uZXItZ3JvdXAnKTsvL+iOt+WPluagh+etvuWvueixoVxuICAgIHRoaXMuaW5kZXggPSAxOy8v5Yid5aeL5YyW6L2u5pKt5Zu+57yW5Y+3XG4gICAgdGhpcy5sZWZ0QXJyb3cgPSAkKCcubGVmdC1hcnJvdycpOy8v6L2u5pKt5Zu+5bem566t5aS0XG4gICAgdGhpcy5yaWdodEFycm93ID0gJCgnLnJpZ2h0LWFycm93Jyk7Ly/ova7mkq3lm77lj7Pnrq3lpLRcbiAgICB0aGlzLmJhbm5lclVMID0gJCgnI2Jhbm5lci11bCcpOy8v6I635Y+W5qCH562+XG4gICAgdGhpcy5saUxpc3QgPSB0aGlzLmJhbm5lclVMLmNoaWxkcmVuKCdsaScpOy8v6I635Y+WbGnmoIfnrb7lr7nosaFcbiAgICB0aGlzLmJhbm5lckNvdW50ID0gdGhpcy5saUxpc3QubGVuZ3RoOy8v6I635Y+WbGnmoIfnrb7kuKrmlbBcbiAgICB0aGlzLnBhZ2VDb250cm9sID0gJCgnLnBhZ2UtY29udHJvbCcpO1xufVxuXG5CYW5uZXIucHJvdG90eXBlLmluaXRCYW5uZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgdmFyIGZpcnN0QmFubmVyID0gc2VsZi5saUxpc3QuZXEoMCkuY2xvbmUoKTtcbiAgICB2YXIgbGFzdEJhbm5lciA9IHNlbGYubGlMaXN0LmVxKHNlbGYuYmFubmVyQ291bnQtMSkuY2xvbmUoKTtcbiAgICBzZWxmLmJhbm5lclVMLmFwcGVuZChmaXJzdEJhbm5lcik7Ly8g5re75Yqg5Yiw5pyA5ZCO5LiA5LiqXG4gICAgc2VsZi5iYW5uZXJVTC5wcmVwZW5kKGxhc3RCYW5uZXIpOy8vIOa3u+WKoOWIsOesrOS4gOS4qlxuICAgIHNlbGYuYmFubmVyVUwuY3NzKHsnd2lkdGgnOnNlbGYuYmFubmVyV2l0ZGgqKHNlbGYuYmFubmVyQ291bnQrMiksXG4gICAgJ2xlZnQnOi1zZWxmLmJhbm5lcldpdGRofSk7Ly8g5Yqo5oCB5pu05pS55bCP5ZyG54K55qCH562+5a695bqmXG59O1xuXG5CYW5uZXIucHJvdG90eXBlLmluaXRQYWdlQ29udHJvbCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7Ly8g5Yqo5oCB5L+u5pS55bCP5ZyG54K55Liq5pWw77yd77yd6L2u5pKt5Zu+5Liq5pWwXG4gICAgLy92YXIgcGFnZUNvbnRyb2wgPSAkKCcucGFnZS1jb250cm9sJyk7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHNlbGYuYmFubmVyQ291bnQ7IGkrKyl7XG4gICAgICAgIHZhciBjaXJjbGUgPSAkKCc8bGk+PC9saT4nKTtcbiAgICAgICAgc2VsZi5wYWdlQ29udHJvbC5hcHBlbmQoY2lyY2xlKTtcbiAgICAgICAgaWYoaSA9PT0gMCl7XG4gICAgICAgICAgICBjaXJjbGUuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNlbGYucGFnZUNvbnRyb2wuY3NzKHsnd2lkdGgnOnNlbGYuYmFubmVyQ291bnQqMTIrOCoyKzE2KihzZWxmLmJhbm5lckNvdW50LTEpfSlcbn07Ly8g5Yqo5oCB5L+u5pS55bCP5ZyG54K55aSW6YOoZGl25oC75a695bqmXG5cbkJhbm5lci5wcm90b3R5cGUuYW5pbWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL+WwgeijhemAmueUqOWHveaVsCAtIOi9ruaSreWbvlxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmJhbm5lclVMLnN0b3AoKS5hbmltYXRlKHsnbGVmdCc6LTc5OCpzZWxmLmluZGV4fSw1MDApO+OAgC8v44CA6L2u5pKtXG4gICAgdmFyIGluZGV4ID0gc2VsZi5pbmRleDtcbiAgICBpZihpbmRleCA9PT0gMCl7XG4gICAgICAgIGluZGV4ID0gc2VsZi5iYW5uZXJDb3VudC0xO1xuICAgIH1lbHNlIGlmKGluZGV4ID09PSBzZWxmLmJhbm5lckNvdW50KzEpe1xuICAgICAgICBpbmRleCA9IDA7XG4gICAgfWVsc2V7XG4gICAgICAgIGluZGV4ID0gc2VsZi5pbmRleC0xO1xuICAgIH1cbiAgICBzZWxmLnBhZ2VDb250cm9sLmNoaWxkcmVuKCdsaScpLmVxKGluZGV4KS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7Ly8g5Yqo5oCB5om+5Yiw5omA5pyJ55qE5YWE5byf6IqC54K55bm256e76ZmkY2xhc3Ncbn07XG5cbkJhbm5lci5wcm90b3R5cGUudG9nZ2xlQXJyb3cgPSBmdW5jdGlvbiAoaXNTaG93KSB7XG4gICAgLy/mjqfliLbova7mkq3lm77lt6blj7Pnrq3lpLTnmoTmmL7npLpcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKGlzU2hvdyl7XG4gICAgICAgIC8vICQoJy5sZWZ0LWFycm93JykudG9nZ2xlKCk7XG4gICAgICAgIC8vICQoJy5yaWdodC1hcnJvdycpLnRvZ2dsZSgpO1xuICAgICAgICAvLyAkKCcubGVmdC1hcnJvdycpLnNob3coKTtcbiAgICAgICAgLy8gJCgnLnJpZ2h0LWFycm93Jykuc2hvdygpO1xuICAgICAgICBzZWxmLmxlZnRBcnJvdy5zaG93KCk7XG4gICAgICAgIHNlbGYucmlnaHRBcnJvdy5zaG93KCk7XG4gICAgfWVsc2V7XG4gICAgICAgIC8vICQoJy5sZWZ0LWFycm93JykuaGlkZSgpO1xuICAgICAgICAvLyAkKCcucmlnaHQtYXJyb3cnKS5oaWRlKCk7XG4gICAgICAgIHNlbGYubGVmdEFycm93LmhpZGUoKTtcbiAgICAgICAgc2VsZi5yaWdodEFycm93LmhpZGUoKTtcbiAgICB9XG59O1xuXG5CYW5uZXIucHJvdG90eXBlLmxvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vIHZhciBiYW5uZXJVTCA9ICQoJyNiYW5uZXItdWwnKTtcblxuICAgIC8vIGJhbm5lclVMLmNzcyh7J2xlZnQnOi03OTh9KTtcbiAgICAvLyBiYW5uZXJVTC5hbmltYXRlKHsnbGVmdCc6LTc5OH0sNTAwKTsvL+S/ruaUuWNzc+aPkOS+m+i/h+W6puaViOaenFxuICAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAvL+WumuaXtuWZqOWKn+iDvVxuICAgICAgICBpZiAoc2VsZi5pbmRleCA+PSBzZWxmLmJhbm5lckNvdW50KzEpe1xuICAgICAgICAgICAgc2VsZi5iYW5uZXJVTC5jc3MoeydsZWZ0Jzotc2VsZi5iYW5uZXJXaXRkaH0pO1xuICAgICAgICAgICAgc2VsZi5pbmRleCA9IDI7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgc2VsZi5pbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgLy8gYmFubmVyVUwuYW5pbWF0ZSh7J2xlZnQnOi03OTgqc2VsZi5pbmRleH0sNTAwKTtcbiAgICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xuICAgICAgICB9LDIwMDApOy8v6L2u5pKtXG59O1xuXG5CYW5uZXIucHJvdG90eXBlLmxpc3RlbkFycm93Q2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy/nm5HlkKzova7mkq3lm77lt6blj7Pnrq3lpLTkuovku7ZcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5sZWZ0QXJyb3cuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZihzZWxmLmluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBzZWxmLmJhbm5lclVMLmNzcyh7J2xlZnQnOi1zZWxmLmJhbm5lckNvdW50KnNlbGYuYmFubmVyV2l0ZGh9KTtcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBzZWxmLmJhbm5lckNvdW50IC0gMTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgc2VsZi5pbmRleC0tO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xuICAgIH0pO1xuICAgIHNlbGYucmlnaHRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgaWYoc2VsZi5pbmRleCA9PT0gc2VsZi5iYW5uZXJDb3VudCArIDEpe1xuICAgICAgICAgICBzZWxmLmJhbm5lclVMLmNzcyh7J2xlZnQnOi1zZWxmLmJhbm5lcldpdGRofSk7XG4gICAgICAgICAgIHNlbGYuaW5kZXggPSAyO1xuICAgICAgIH1lbHNle1xuICAgICAgICAgICBzZWxmLmluZGV4Kys7XG4gICAgICAgfVxuICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xuICAgIH0pO1xufTtcblxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5CYW5uZXJIb3ZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAvL+ebkeWQrOm8oOagh+enu+WKqOWIsOi9ruaSreWbvuS6i+S7tlxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLmJhbm5lckdyb3VwLmhvdmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+m8oOagh+enu+WKqCzmmoLlgZzmkq3mlL4uLi4nKTtcbiAgICAgICAgLy/nrKzkuIDkuKrlh73mlbDmmK/miorpvKDmoIfnp7vliqjliLBiYW5uZXLkuIrkvJrmiafooYznmoTlh73mlbBcbiAgICAgICAgLy8gY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsg5Ye95pWw5YaF55qEdGhpc+WvueixoeaMh+eahOaYr+WHveaVsOOAgOS4jeaYr++8omFubmVy5a+56LGhXG4gICAgICAgIGNsZWFySW50ZXJ2YWwoc2VsZi50aW1lcik7Ly/lhbPpl63lrprml7blmahcbiAgICAgICAgc2VsZi50b2dnbGVBcnJvdyh0cnVlKTsvL+aYvuekuui9ruaSreWbvuW3puWPs+eureWktFxuXG4gICAgfSxmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8v56ys5LqM5Liq5Ye95pWw5piv5oqK6byg5qCH5LuOYmFubmVy56e76LWw5Lya5omn6KGM55qE5Ye95pWwXG4gICAgICAgIGNvbnNvbGUubG9nKCfpvKDmoIfnp7votbAs5byA5aeL5pKt5pS+Li4uJyk7XG4gICAgICAgIHNlbGYubG9vcCgpO1xuICAgICAgICBzZWxmLnRvZ2dsZUFycm93KGZhbHNlKTsvL+makOiXj+i9ruaSreWbvuW3puWPs+eureWktFxuICAgIH0pO1xufTtcblxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5QYWdlQ29udHJvbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyDnm5HlkKxsaeagh+etvlxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLnBhZ2VDb250cm9sLmNoaWxkcmVuKCdsaScpLmVhY2goZnVuY3Rpb24gKGluZGV4LG9iaikge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhpbmRleCk744CA5qCH562+5LiL5qCH5YC8XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG9iaik744CAbGnmoIfnrb5cbiAgICAgICAgJChvYmopLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIHNlbGYuYW5pbWF0ZSgpO1xuICAgICAgICAgICAgLy8gJChvYmopLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsvLyDmib7liLDmiYDmnInnmoTlhYTlvJ/oioLngrnlubbnp7vpmaRjbGFzc1xuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbkJhbm5lci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUubG9nKCdydW5pbmcuLi4uLi4uLi4uLicpO1xuICAgIHRoaXMuaW5pdEJhbm5lcigpO1xuICAgIHRoaXMuaW5pdFBhZ2VDb250cm9sKCk7XG4gICAgdGhpcy5sb29wKCk7XG4gICAgdGhpcy5saXN0ZW5BcnJvd0NsaWNrKCk7XG4gICAgdGhpcy5saXN0ZW5CYW5uZXJIb3ZlcigpOy8v55uR5ZCs6L2u5pKt5Zu+6byg5qCH5LqL5Lu2XG4gICAgdGhpcy5saXN0ZW5QYWdlQ29udHJvbCgpO1xufTtcblxuJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGJhbm5lciA9IG5ldyBCYW5uZXIoKTtcbiAgICBiYW5uZXIucnVuKCk7Ly/kuLvlkK/liqjlh73mlbBcbn0pO1xuXG4vLyAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuLy8g6aaW6aG15paw6Ze754K55Ye75Yqg6L295pu05aSaXG5JbmRleC5wcm90b3R5cGUubGlzdGVuTG9hZE1vcmVFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHBhZ2UgPSBzZWxmLnBhZ2U7XG4gICAgc2VsZi5sb2FkQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgeGZ6YWpheC5nZXQoe1xuICAgICAgICAgICAgJ3VybCc6ICcvbmV3cy9uZXdzX2xpc3QvJyxcbiAgICAgICAgICAgICdkYXRhJzoge1xuICAgICAgICAgICAgICAgICdwJzogc2VsZi5wYWdlLFxuICAgICAgICAgICAgICAgICdjYXRlZ29yeV9pZCc6c2VsZi5jYXRlZ29yeV9pZFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcbiAgICAgICAgICAgICAgICAgICAgaWYobmV3c2VzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKCduZXdzLWl0ZW0nLCB7J25ld3Nlcyc6IG5ld3Nlc30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVsID0gJCgnLmxpc3QtaW5uZXItZ3JvdXAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVsLmFwcGVuZCh0cGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dFcnJvcign5bey57uP5rKh5pyJ5pu05aSa5paw6Ze75LqG77yBJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRCdG4uaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG5cbi8vIOWunueOsOmmlumhteeCueWHu+WIhuexu+WIh+aNolxuSW5kZXgucHJvdG90eXBlLmxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciB0YWJHcm91cCA9ICQoXCIubGlzdC10YWJcIik7XG4gICAgdGFiR3JvdXAuY2hpbGRyZW4oKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHRoaXPvvJrku6PooajlvZPliY3pgInkuK3nmoTov5nkuKpsaeagh+etvlxuICAgICAgICB2YXIgbGkgPSAkKHRoaXMpO1xuICAgICAgICB2YXIgY2F0ZWdvcnlfaWQgPSBsaS5hdHRyKFwiZGF0YS1jYXRlZ29yeVwiKTtcbiAgICAgICAgdmFyIHBhZ2UgPSAxO1xuICAgICAgICB4ZnphamF4LmdldCh7XG4gICAgICAgICAgICAndXJsJzogJy9uZXdzL25ld3NfbGlzdC8nLFxuICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgJ2NhdGVnb3J5X2lkJzogY2F0ZWdvcnlfaWQsXG4gICAgICAgICAgICAgICAgJ3AnOiBwYWdlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKFwibmV3cy1pdGVtXCIse1wibmV3c2VzXCI6bmV3c2VzfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVtcHR577ya5Y+v5Lul5bCG6L+Z5Liq5qCH562+5LiL55qE5omA5pyJ5a2Q5YWD57Sg6YO95Yig5o6JXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzTGlzdEdyb3VwID0gJChcIi5saXN0LWlubmVyLWdyb3VwXCIpO1xuICAgICAgICAgICAgICAgICAgICBuZXdzTGlzdEdyb3VwLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld3NMaXN0R3JvdXAuYXBwZW5kKHRwbCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucGFnZSA9IDI7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2F0ZWdvcnlfaWQgPSBjYXRlZ29yeV9pZDtcbiAgICAgICAgICAgICAgICAgICAgbGkuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvYWRCdG4uc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5JbmRleC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmxpc3RlbkxvYWRNb3JlRXZlbnQoKTtcbiAgICBzZWxmLmxpc3RlbkNhdGVnb3J5U3dpdGNoRXZlbnQoKTtcbn07XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgdmFyIGluZGV4ID0gbmV3IEluZGV4KCk7XG4gICBpbmRleC5ydW4oKTtcbn0pOyJdfQ==
