function News(){}News.prototype.run=function(){var t=this;t.listenUploadFilelEvent(),t.initUEditor(),t.listenSubmitEvent()},News.prototype.listenUploadFilelEvent=function(){var n=$("#thumbnail-btn");n.change(function(){var t=n[0].files[0],e=new FormData;e.append("file",t),xfzajax.post({url:"/cms/upload_file/",data:e,processData:!1,contentType:!1,success:function(t){if(200===t.code){var e=t.data.url;$("#thumbnail-form").val(e),console.log(t)}}})})},News.prototype.initUEditor=function(){window.ue=UE.getEditor("editor",{initialFrameHeight:400,serverUrl:"/ueditor/upload/"})},News.prototype.listenSubmitEvent=function(){$("#submit-btn").click(function(t){t.preventDefault();var e=$('input[name="title"]').val(),n=$('select[name="category"]').val(),i=$('input[name="desc"]').val(),o=$('input[name="thumbnail"]').val(),a=window.ue.getContent();console.log(a),xfzajax.post({url:"/cms/write_news/",data:{title:e,category:n,desc:i,thumbnail:o,content:a},success:function(t){200===t.code&&xfzalert.alertSuccess("恭喜！新闻发表成功！",function(){window.location.reload()})}})})},$(function(){(new News).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndyaXRlX25ld3MuanMiXSwibmFtZXMiOlsiTmV3cyIsInByb3RvdHlwZSIsInJ1biIsInNlbGYiLCJ0aGlzIiwibGlzdGVuVXBsb2FkRmlsZWxFdmVudCIsImluaXRVRWRpdG9yIiwibGlzdGVuU3VibWl0RXZlbnQiLCJ1cGxvYWRCdG4iLCIkIiwiY2hhbmdlIiwiZmlsZSIsImZpbGVzIiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwicmVzdWx0IiwidmFsIiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsInVlIiwiVUUiLCJnZXRFZGl0b3IiLCJpbml0aWFsRnJhbWVIZWlnaHQiLCJzZXJ2ZXJVcmwiLCJjbGljayIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJ0aXRsZSIsImNhdGVnb3J5IiwiZGVzYyIsInRodW1ibmFpbCIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwieGZ6YWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJsb2NhdGlvbiIsInJlbG9hZCJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsUUFJVEEsS0FBS0MsVUFBVUMsSUFBTSxXQUNqQixJQUFJQyxFQUFPQyxLQUNYRCxFQUFLRSx5QkFDTEYsRUFBS0csY0FDTEgsRUFBS0kscUJBSVRQLEtBQUtDLFVBQVVJLHVCQUF5QixXQUNwQyxJQUFJRyxFQUFZQyxFQUFFLGtCQUNsQkQsRUFBVUUsT0FBTyxXQUNiLElBQUlDLEVBQU9ILEVBQVUsR0FBR0ksTUFBTSxHQUMxQkMsRUFBVyxJQUFJQyxTQUNuQkQsRUFBU0UsT0FBTyxPQUFPSixHQUN2QkssUUFBUUMsS0FBSyxDQUNUQyxJQUFPLG9CQUNQQyxLQUFRTixFQUNSTyxhQUFlLEVBQ2ZDLGFBQWUsRUFDZkMsUUFBVyxTQUFVQyxHQUNqQixHQUFzQixNQUFuQkEsRUFBYSxLQUFVLENBQ3RCLElBQUlMLEVBQU1LLEVBQWEsS0FBTyxJQUNUZCxFQUFFLG1CQUNSZSxJQUFJTixHQUNuQk8sUUFBUUMsSUFBSUgsVUFRaEN2QixLQUFLQyxVQUFVSyxZQUFjLFdBQ3pCcUIsT0FBT0MsR0FBS0MsR0FBR0MsVUFBVSxTQUFTLENBQzlCQyxtQkFBc0IsSUFDdEJDLFVBQWEsc0JBS3JCaEMsS0FBS0MsVUFBVU0sa0JBQW9CLFdBQ2ZFLEVBQUUsZUFDUndCLE1BQU0sU0FBVUMsR0FDdEJBLEVBQU1DLGlCQUVOLElBQUlDLEVBQVEzQixFQUFFLHVCQUF1QmUsTUFDakNhLEVBQVc1QixFQUFFLDJCQUEyQmUsTUFDeENjLEVBQU83QixFQUFFLHNCQUFzQmUsTUFDL0JlLEVBQVk5QixFQUFFLDJCQUEyQmUsTUFDekNnQixFQUFVYixPQUFPQyxHQUFHYSxhQUN4QmhCLFFBQVFDLElBQUljLEdBRVp4QixRQUFRQyxLQUFLLENBQ1ZDLElBQU0sbUJBQ05DLEtBQU8sQ0FDSGlCLE1BQVFBLEVBQ1JDLFNBQVdBLEVBQ1hDLEtBQU9BLEVBQ1BDLFVBQVlBLEVBQ1pDLFFBQVVBLEdBRWJsQixRQUFVLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDWm1CLFNBQVNDLGFBQWEsYUFBYSxXQUMvQmhCLE9BQU9pQixTQUFTQyxpQkFReENwQyxFQUFFLFlBQ2EsSUFBSVQsTUFDVkUiLCJmaWxlIjoid3JpdGVfbmV3cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBOZXdzKCkge1xuXG59XG5cbk5ld3MucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5saXN0ZW5VcGxvYWRGaWxlbEV2ZW50KCk7XG4gICAgc2VsZi5pbml0VUVkaXRvcigpO1xuICAgIHNlbGYubGlzdGVuU3VibWl0RXZlbnQoKTtcbn07XG5cbi8vIOS4iuS8oOaWh+S7tlxuTmV3cy5wcm90b3R5cGUubGlzdGVuVXBsb2FkRmlsZWxFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdXBsb2FkQnRuID0gJCgnI3RodW1ibmFpbC1idG4nKTtcbiAgICB1cGxvYWRCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZpbGUgPSB1cGxvYWRCdG5bMF0uZmlsZXNbMF07XG4gICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLGZpbGUpO1xuICAgICAgICB4ZnphamF4LnBvc3Qoe1xuICAgICAgICAgICAgJ3VybCc6ICcvY21zL3VwbG9hZF9maWxlLycsXG4gICAgICAgICAgICAnZGF0YSc6IGZvcm1EYXRhLFxuICAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzogZmFsc2UsXG4gICAgICAgICAgICAnY29udGVudFR5cGUnOiBmYWxzZSxcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmVzdWx0WydkYXRhJ11bJ3VybCddO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsSW5wdXQgPSAkKFwiI3RodW1ibmFpbC1mb3JtXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aHVtYm5haWxJbnB1dC52YWwodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuLy8g5a+M5paH5pys57yW6L6R5ZmoXG5OZXdzLnByb3RvdHlwZS5pbml0VUVkaXRvciA9IGZ1bmN0aW9uICgpIHtcbiAgICB3aW5kb3cudWUgPSBVRS5nZXRFZGl0b3IoJ2VkaXRvcicse1xuICAgICAgICAnaW5pdGlhbEZyYW1lSGVpZ2h0JzogNDAwLFxuICAgICAgICAnc2VydmVyVXJsJzogJy91ZWRpdG9yL3VwbG9hZC8nXG4gICAgfSk7XG59O1xuXG4vLyDmt7vliqDmlrDpl7tcbk5ld3MucHJvdG90eXBlLmxpc3RlblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzdWJtaXRCdG4gPSAkKCcjc3VibWl0LWJ0bicpO1xuICAgIHN1Ym1pdEJ0bi5jbGljayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICB2YXIgdGl0bGUgPSAkKCdpbnB1dFtuYW1lPVwidGl0bGVcIl0nKS52YWwoKTtcbiAgICAgICAgdmFyIGNhdGVnb3J5ID0gJCgnc2VsZWN0W25hbWU9XCJjYXRlZ29yeVwiXScpLnZhbCgpO1xuICAgICAgICB2YXIgZGVzYyA9ICQoJ2lucHV0W25hbWU9XCJkZXNjXCJdJykudmFsKCk7XG4gICAgICAgIHZhciB0aHVtYm5haWwgPSAkKCdpbnB1dFtuYW1lPVwidGh1bWJuYWlsXCJdJykudmFsKCk7XG4gICAgICAgIHZhciBjb250ZW50ID0gd2luZG93LnVlLmdldENvbnRlbnQoKTtcbiAgICAgICAgY29uc29sZS5sb2coY29udGVudCk7XG5cbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcbiAgICAgICAgICAgJ3VybCc6Jy9jbXMvd3JpdGVfbmV3cy8nLFxuICAgICAgICAgICAnZGF0YSc6e1xuICAgICAgICAgICAgICAgJ3RpdGxlJzp0aXRsZSxcbiAgICAgICAgICAgICAgICdjYXRlZ29yeSc6Y2F0ZWdvcnksXG4gICAgICAgICAgICAgICAnZGVzYyc6ZGVzYyxcbiAgICAgICAgICAgICAgICd0aHVtYm5haWwnOnRodW1ibmFpbCxcbiAgICAgICAgICAgICAgICdjb250ZW50Jzpjb250ZW50XG4gICAgICAgICAgIH0sXG4gICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xuICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5hbGVydFN1Y2Nlc3MoJ+aBreWWnO+8geaWsOmXu+WPkeihqOaIkOWKn++8gScsZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5ld3MgPSBuZXcgTmV3cygpO1xuICAgIG5ld3MucnVuKCk7XG59KTsiXX0=
